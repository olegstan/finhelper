{"version":3,"file":"CurrencyConstants.js","names":["ActiveConstants","CurrencyConstants","RUBBLE_ID","DOLLAR_ID","EURO_ID","RUBBLE_SIGN","DOLLAR_SIGN","DEFAULT_CODES","currencies","courses","getCurrencyNameById","id","currency","getCurrencyById","name","getCurrencyNameByCode","code","map","item","getCurrencySignById","sign","getCurrencyCodeById","getCurrencySignByActive","isPackage","type_id","buy_trades","length","currency_id","sell_trades","buy_currency_id","sell","invests","child_item","lastInvest","getCurrencyCodeByActive"],"sources":["../../src/constants/CurrencyConstants.js"],"sourcesContent":["import ActiveConstants from \"./ActiveConstants\";\r\n\r\nexport default class CurrencyConstants\r\n{\r\n  static RUBBLE_ID = 1;\r\n  static DOLLAR_ID = 12;\r\n  static EURO_ID = 13;\r\n\r\n  static RUBBLE_SIGN = '₽';\r\n  static DOLLAR_SIGN = '$';\r\n\r\n  static DEFAULT_CODES = ['RUB', 'USD', 'EUR'];\r\n\r\n  /**\r\n   *\r\n   * @type {[]}\r\n   */\r\n  static currencies = [];\r\n  /**\r\n   *\r\n   * @type {[]}\r\n   */\r\n  static courses = [];\r\n\r\n  /**\r\n   *\r\n   * @param id\r\n   * @return {*}\r\n   */\r\n  static getCurrencyNameById(id)\r\n  {\r\n    let currency = CurrencyConstants.getCurrencyById(id)\r\n\r\n    if (currency)\r\n    {\r\n      return currency.name\r\n    }\r\n  }\r\n\r\n  static getCurrencyNameByCode(code)\r\n  {\r\n    switch (code)\r\n    {\r\n      case 'USD':\r\n        return 'Доллар США';\r\n      case 'EUR':\r\n        return 'Евро';\r\n      case 'Российский рубль':\r\n        return 'Евро';\r\n      default:\r\n        return code;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param id\r\n   * @return {null}\r\n   */\r\n  static getCurrencyById(id)\r\n  {\r\n    let currency = null;\r\n\r\n    CurrencyConstants.currencies.map((item) =>\r\n    {\r\n      if (item.id === id)\r\n      {\r\n        currency = item;\r\n      }\r\n\r\n\r\n    });\r\n\r\n    return currency;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param id\r\n   * @return {*}\r\n   */\r\n  static getCurrencySignById(id)\r\n  {\r\n    let currency = CurrencyConstants.getCurrencyById(id)\r\n\r\n    if (currency)\r\n    {\r\n      if (currency.sign)\r\n      {\r\n        return currency.sign;\r\n      } else\r\n      {\r\n        return currency.code;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param id\r\n   * @return {*}\r\n   */\r\n  static getCurrencyCodeById(id)\r\n  {\r\n    let currency = CurrencyConstants.getCurrencyById(id)\r\n\r\n    if (currency)\r\n    {\r\n      if (currency.code)\r\n      {\r\n        return currency.code;\r\n      } else\r\n      {\r\n        return currency.sign;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param item\r\n   * @return {string}\r\n   */\r\n  static getCurrencySignByActive(item)\r\n  {\r\n    let sign = '';\r\n\r\n    if (ActiveConstants.isPackage(item.type_id))\r\n    {\r\n      if (item.buy_trades[item.buy_trades?.length - 1]?.currency_id)\r\n      {\r\n        sign = CurrencyConstants.getCurrencySignById(item.buy_trades[item.buy_trades?.length - 1].currency_id)\r\n      } else if (item.sell_trades[item.sell_trades?.length - 1]?.currency_id)\r\n      {\r\n        sign = CurrencyConstants.getCurrencySignById(item.sell_trades[item.sell_trades?.length - 1].currency_id)\r\n      }\r\n    } else\r\n    {\r\n      if (item.buy_currency_id)\r\n      {\r\n        sign = CurrencyConstants.getCurrencySignById(item.buy_currency_id)\r\n      }else if(item.sell && item.sell.currency_id){\r\n        sign = CurrencyConstants.getCurrencySignById(item.sell.currency_id)\r\n      }else if(item.invests && item.invests?.length && item.invests[item.invests?.length - 1]?.child_item){\r\n        let lastInvest = {...item.invests[item.invests?.length - 1].child_item};\r\n\r\n        sign = CurrencyConstants.getCurrencySignById(lastInvest.currency_id)\r\n      }\r\n    }\r\n\r\n    return sign;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param item\r\n   * @return {string}\r\n   */\r\n  static getCurrencyCodeByActive(item)\r\n  {\r\n    let code = '';\r\n\r\n    if (ActiveConstants.isPackage(item.type_id))\r\n    {\r\n      if (item.buy_trades[item.buy_trades?.length - 1]?.currency_id)\r\n      {\r\n        code = CurrencyConstants.getCurrencyCodeById(item.buy_trades[item.buy_trades?.length - 1].currency_id)\r\n      } else if (item.sell_trades[item.sell_trades?.length - 1]?.currency_id)\r\n      {\r\n        code = CurrencyConstants.getCurrencyCodeById(item.sell_trades[item.sell_trades?.length - 1].currency_id)\r\n      }\r\n    } else\r\n    {\r\n      if (item.buy_currency_id)\r\n      {\r\n        code = CurrencyConstants.getCurrencyCodeById(item.buy_currency_id)\r\n      }else if(item.sell && item.sell.currency_id){\r\n        code = CurrencyConstants.getCurrencyCodeById(item.sell.currency_id)\r\n      }else if(item.invests && item.invests?.length && item.invests[item.invests?.length - 1]?.child_item){\r\n        let lastInvest = {...item.invests[item.invests?.length - 1].child_item};\r\n\r\n        code = CurrencyConstants.getCurrencyCodeById(lastInvest.currency_id)\r\n      }\r\n    }\r\n\r\n    return code;\r\n  }\r\n}"],"mappings":"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"}